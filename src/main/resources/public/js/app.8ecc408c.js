(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},3555:function(t,e,a){},4207:function(t,e,a){},"5be2":function(t,e,a){t.exports=a.p+"img/SGKLogo.08ad9ba8.png"},6036:function(t,e,a){"use strict";var s=a("4207"),r=a.n(s);r.a},"6cc3":function(t,e,a){"use strict";var s=a("af1e"),r=a.n(s);r.a},"85ec":function(t,e,a){},9945:function(t,e,a){},af1e:function(t,e,a){},b4e2:function(t,e,a){"use strict";var s=a("9945"),r=a.n(s);r.a},c766:function(t,e,a){"use strict";var s=a("3555"),r=a.n(s);r.a},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=a("683f"),n=a("cc7d"),i=a.n(n),o=a("c6e1"),c=a.n(o),u=new s["a"],l=u,p="https://joker.sgkperformance.com/sgk-joker-ws.connect";localStorage.principalId&&(p=p+"?auth_token="+localStorage.principalId);var d=new i.a(p),y=c.a.over(d);y.connect({},(function(t){y.subscribe("/topic/games",(function(t){var e=JSON.parse(t.body);l.$emit("app:topic:game",e)})),y.subscribe("/user/queue/errors",(function(t){r["a"].alert(JSON.parse(t.body).message)})),y.subscribe("/user/reply",(function(t){var e=JSON.parse(t.body);l.$emit("app:user:reply",e)})),t&&t.headers&&t.headers["user-name"]&&"undefined"!==t.headers["user-name"]&&(localStorage.principalId=t.headers["user-name"],l.$emit("connected",t.headers["user-name"]))}));var h,m=y,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},v=[],S=a("9ab4"),k=a("60a3"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(S["b"])(e,t),e=Object(S["a"])([k["a"]],e),e}(k["c"]),C=_,g=C,b=(a("034f"),a("2877")),A=Object(b["a"])(g,f,v,!1,null,null,null),P=A.exports,T=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("RoomComponent")],1)},w=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"actionBar"}},[s("a",{staticClass:"createRoomButton",on:{click:function(e){return t.create()}}},[t._v("Create Room")]),t.playersTempName?s("div",{staticClass:"welcome"},[s("h1",[t._v(" Welcome "+t._s(t.playersTempName)+" ")])]):t._e()]),t._l(t.rooms,(function(e){return s("div",{key:e.gameId,staticClass:"room"},[s("div",{staticClass:"roomHeader"},[s("div",{staticClass:"actionButtonsWrapper"},[s("div",[s("h1",[t._v(t._s(e.gameName))])]),s("div",[t.isGameFull(e)?s("a",{staticClass:"createRoomButton",on:{click:function(a){return t.start(e.gameId)}}},[t._v(" Start Game ")]):t._e()])])]),t._l(e.players,(function(r,n){return s("div",{key:r.id,staticClass:"participant"},[r.name?s("div",{staticClass:"reservedPlayer"},[t._v(" "+t._s(r.name)+" "),s("img",{attrs:{alt:"Vue logo",src:a("fa19")}})]):[t.disableSitForRoom(e.id)?s("div",{staticClass:"noParticipant"},[s("p",[t._v("Wait for your opponent")])]):s("div",{staticClass:"noParticipant",on:{click:function(a){return t.addPlayer(e,r,n)}}},[s("p",[t._v("Click to sit")])])]],2)}))],2)}))],2)},j=[],E=(a("4160"),a("b0c0"),a("159b"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rooms=[],e.gameId="",e.polling=-1,e.showResumePolling=!1,e.playersTempName="",e}return Object(S["b"])(e,t),e.prototype.mounted=function(){var t=this;this["$ws"]&&this["$ws"].connected?this.getAllGames():l.$on("connected",(function(e){t.playerId=e,t.getAllGames()})),l.$on("app:topic:game",(function(e){t.handleAllGames(e)})),l.$on("app:user:reply",(function(t){var e=t.state,a=t.player;null===t.requestType&&a&&e&&(localStorage[e.gameId]=a.id)}))},e.prototype.created=function(){var t=this;localStorage.playersTempName?this.playersTempName=localStorage.playersTempName:this.$prompt("Your Name").then((function(e){t.playersTempName=e,localStorage.playersTempName=e}))},e.prototype.create=function(){var t=Math.floor(100*Math.random()),e=JSON.stringify({name:"Room-"+t});this["$ws"].send("/app/newGame",e)},e.prototype.isGameFull=function(t){var e=0;return t.players&&t.players.forEach((function(t){t.name&&(e+=1)})),4===e},e.prototype.addPlayer=function(t,e,a){var s={gameId:t.gameId,name:this.playersTempName,pos:a+1};t.players&&t.players.length&&t.players.forEach((function(t){t.id===e.id&&(s["existingId"]=e.id)})),this["$ws"].send("/app/addPlayer",JSON.stringify(s))},e.prototype.start=function(t){var e=localStorage[t];this.$router.push({name:"Game",params:{id:e||"",gameId:t}})},e.prototype.disableSitForRoom=function(t){return!!localStorage[t]},e.prototype.handleAllGames=function(t){t.forEach((function(t){if(t.players){var e=[{},{},{},{}];t.players.forEach((function(t){t&&t.position&&(e[t.position-1]=t)})),t.players=e}})),this.rooms=t},e.prototype.getAllGames=function(){this["$ws"].send("/app/getAllGames")},e.prototype.beforeDestroy=function(){clearInterval(this.polling),this.polling=-1},e=Object(S["a"])([k["a"]],e),e}(k["c"])),N=E,L=N,J=(a("6036"),Object(b["a"])(L,I,j,!1,null,"018409b3",null)),M=J.exports,$={name:"Home",components:{RoomComponent:M}},x=$,z=Object(b["a"])(x,O,w,!1,null,null,null),R=z.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"playingCards"},[s("div",{staticClass:"some-page-wrapper"},[s("div",{staticClass:"flex-container"},[s("div",{staticClass:"flex-child gamePlay"},[s("div",{staticClass:"row"},[s("div",{staticClass:"column inlineCards"},[t.opponents[1]?[t.opponents[1]?s("div",{staticClass:"playerName top"},[t._v(" "+t._s(t.opponents[1].name)+" ("+t._s(null===t.opponents[1].call?"-":t.opponents[1].call)+"/"+t._s(t.opponents[1].taken)+") ")]):t._e(),s("div",{staticClass:"privateCard0 cardBack",class:{active:t.currentState.currentTurnPosition===t.opponents[1].position}})]:t._e()],2)]),s("div",{staticClass:"row"},[s("div",{staticClass:"column"},[t.opponents[0]?[s("div",{staticClass:"playerName right"},[t._v(" "+t._s(t.opponents[0].name)+" ("+t._s(null===t.opponents[0].call?"-":t.opponents[0].call)+"/"+t._s(t.opponents[0].taken)+") ")]),s("div",{staticClass:"privateCard90 cardBack90",class:{active:t.currentState.currentTurnPosition===t.opponents[0].position}})]:t._e()],2),s("div",{staticClass:"column content"},[s("img",{attrs:{src:a("5be2")}}),s("div",{staticClass:"middleActoins"},t._l(t.actions,(function(e){return s("div",{key:e.cardId,staticClass:"card",class:[t.deck[e.cardId].suite,t.calculateCardPosition(e)]},[1!=e.cardId&&2!=e.cardId?s("span",{staticClass:"rank"},[t._v(t._s(t.deck[e.cardId].type))]):t._e(),1!=e.cardId&&2!=e.cardId?s("span",{staticClass:"suit"}):t._e(),1!=e.cardId&&2!=e.cardId?s("span",{staticClass:"rank rank-bottom"},[t._v(t._s(t.deck[e.cardId].type))]):t._e(),"bez"===t.deck[e.cardId].suite&&t.currentState.currentPlay.jokerActionWant?s("span",{staticClass:"jokerDisplayAction"},[t._v(" Want "),s("span",{class:t.currentState.currentPlay.actingSuite.toLowerCase()})]):t._e(),"bez"===t.deck[e.cardId].suite&&t.currentState.currentPlay.jokerActionTake?s("span",{staticClass:"jokerDisplayAction"},[t._v(" Take "),s("span",{class:t.currentState.currentPlay.actingSuite.toLowerCase()})]):t._e()])})),0)]),s("div",{staticClass:"column"},[t.opponents[2]?[s("div",{staticClass:"playerName left"},[t._v(" "+t._s(t.opponents[2].name)+" ("+t._s(null===t.opponents[2].call?"-":t.opponents[2].call)+"/"+t._s(t.opponents[2].taken)+") ")]),s("div",{staticClass:"privateCard90 cardBack90",class:{active:t.currentState.currentTurnPosition===t.opponents[2].position}})]:t._e()],2)]),s("div",{staticClass:"footer-row"},[s("div",{staticClass:"column"},["CALLS_MADE"!==t.currentState.status&&"PLAY_DONE"!==t.currentState.status&&"PLAY_STARTED"!==t.currentState.status||t.currentState.currentTurnPosition!==t.me.position?t._e():s("div",{staticClass:"callBlock"},[s("span",{staticClass:"callUnit"},[t._v("Your Turn")])]),"DEALT"===t.currentState.status&&t.currentState.currentTurnPosition===t.me.position&&null!=t.kozyr?s("div",{staticClass:"callBlock"},[0!=t.me.cantCallNumer?s("span",{staticClass:"callUnit",on:{click:function(e){return t.call(0)}}},[t._v("Pass")]):t._e(),t._l(t.currentState.numCards,(function(e){return s("div",{key:e,staticClass:"template",on:{click:function(a){return t.call(e)}}},[e&&t.me.cantCallNumer!=e?s("span",{staticClass:"callUnit"},[t._v(t._s(e))]):t._e()])}))],2):t._e(),t.showJokerAction?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"item",on:{click:function(e){return t.selectJokerAction("WANT")}}},[t._v("Want")]),s("div",{staticClass:"item",on:{click:function(e){return t.selectJokerAction("TAKE")}}},[t._v("Take")])]):t._e(),t.showJokerActionSuite?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"want"},[s("div",{staticClass:"item diamond",on:{click:function(e){return t.selectJokerSuite("DIAMOND")}}}),s("div",{staticClass:"item hart",on:{click:function(e){return t.selectJokerSuite("HART")}}}),s("div",{staticClass:"item spade",on:{click:function(e){return t.selectJokerSuite("SPADE")}}}),s("div",{staticClass:"item club",on:{click:function(e){return t.selectJokerSuite("CLUB")}}})])]):t._e(),"DEALT"===t.currentState.status&&t.currentState.currentTurnPosition===t.me.position&&null==t.kozyr?s("div",{staticClass:"jokerAction"},[s("div",{staticClass:"close",on:{click:function(e){return t.closeJokerActions()}}},[t._v("X")]),s("div",{staticClass:"want"},[s("div",{staticClass:"item diamond",on:{click:function(e){return t.setKozyr("DIAMOND")}}}),s("div",{staticClass:"item hart",on:{click:function(e){return t.setKozyr("HART")}}}),s("div",{staticClass:"item spade",on:{click:function(e){return t.setKozyr("SPADE")}}}),s("div",{staticClass:"item club",on:{click:function(e){return t.setKozyr("CLUB")}}}),s("div",{staticClass:"item BEZ",on:{click:function(e){return t.setKozyr("BEZ")}}})])]):t._e(),s("div",{staticClass:"playerName bottom"},[t._v(" "+t._s(t.me.name)+"("+t._s(null===t.me.call||void 0===t.me.call?"-":t.me.call)+"/"+t._s(t.me.taken)+") ")]),s("div",{staticClass:"inlineCards"},[t.me.cards&&t.me.cards.length>0?[s("div",{staticClass:"cardWrapper"},t._l(t.me.cards,(function(e){return s("div",{key:e.id,staticClass:"card",class:[t.isDisabled(e)?"isDisabled":"",t.deck[e.id].suite],on:{click:function(a){return t.hitAction(e)}}},[t.isDisabled(e)?s("div",{staticClass:"maskCard"}):t._e(),s("span",{staticClass:"rank"},[t._v(" "+t._s(1!=e.id&&2!=e.id?t.deck[e.id].type:" ")+" ")]),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"},[1===e.id||2===e.id?s("div",[t._v(".")]):t._e(),t._v(" "+t._s(1!=e.id&&2!=e.id?t.deck[e.id].type:" ")+" ")])])})),0)]:t._e()],2)])]),s("div",{staticClass:"account-footer"},[t.players.length&&t.currentState&&t.currentState.cardNumbers?s("account",{attrs:{players:t.players,numberOfCards:t.currentState.cardNumbers}}):t._e()],1)]),s("div",{staticClass:"flex-child tablePlace"},[s("div",{staticClass:"kozyr"},[s("div",{staticClass:"kozyrPlace"},[t.kozyr&&t.deck[t.kozyr.id]?s("div",{staticClass:"card",class:t.deck[t.kozyr.id].suite},[s("span",{staticClass:"rank"},[t._v(t._s(t.deck[t.kozyr.id].type))]),s("span",{staticClass:"suit"}),s("span",{staticClass:"rank rank-bottom"},[t._v(t._s(t.deck[t.kozyr.id].type))])]):t._e(),t.kozyr&&-1===t.kozyr.id?s("div",{staticClass:"card wholeCard",class:t.kozyr.suite.toLowerCase()},[s("div",{staticClass:"suit"})]):t._e()]),s("div",{staticClass:"attributePlace"},[s("div",{staticClass:"attribute"},[t._v("|---| -200")]),t.currentState&&t.currentState.currentPlay&&t.currentState.currentPlay.huntLevel&&t.currentState.currentPlay.huntLevel>0?s("div",{staticClass:"attribute hunt",attrs:{title:"შენტენვა"}},[t._v(" 🐷"+t._s(t.currentState.currentPlay.huntLevel))]):t._e(),t.currentState&&t.currentState.currentPlay&&t.currentState.currentPlay.huntLevel&&t.currentState.currentPlay.huntLevel<0?s("div",{staticClass:"attribute huntout",attrs:{title:"წაგლეჯვა"}},[t._v(" "+t._s(-1*t.currentState.currentPlay.huntLevel))]):t._e()])]),t.players.length&&t.currentState&&t.currentState.cardNumbers?s("account",{attrs:{players:t.players,numberOfCards:t.currentState.cardNumbers}}):t._e(),t.me?s("chat",{attrs:{messages:t.currentState.messages,gameId:t.gameId,playerId:t.me.id,playerName:t.me.name}}):t._e()],1)])])])},G=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account"},[t.players.length>0?a("div",{attrs:{id:"header"}},t._l(4,(function(e){return a("div",{key:e},[t.players[e].name?a("span",[t._v(t._s(t.players[e].name))]):t._e(),t._l(t.players[e].calls.length,(function(s){return a("div",{key:s,staticClass:"scores"},[1===e?a("span",{staticClass:"separator"},[t._v(t._s(t.numberOfCards[s-1])+" ")]):t._e(),a("span",{class:{lineThrough:t.players[e].bonusMultipliers.length&&0===t.players[e].bonusMultipliers[s-1]}},[t._v(" "+t._s(t.players[e].calls[s-1])+" - "+t._s(t.players[e].scores[s-1])+" ")]),t.players[e].bonusMultipliers.length?a("span",[t._v(" "+t._s(2===t.players[e].bonusMultipliers[s-1]?"x2":"")+" ")]):t._e(),8===s&&t.players[e].pulkaScores&&t.players[e].pulkaScores[0]&&t.players[e].pulkaScores.length?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s((t.players[e].pulkaScores[0]/100).toFixed(1))+" ")]):t._e(),12===s&&t.players[e].pulkaScores&&t.players[e].pulkaScores[1]&&t.players[e].pulkaScores.length?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s((t.players[e].pulkaScores[1]/100).toFixed(1))+" ")]):t._e(),20===s&&t.players[e].pulkaScores&&t.players[e].pulkaScores[2]&&t.players[e].pulkaScores.length?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s((t.players[e].pulkaScores[2]/100).toFixed(1))+" ")]):t._e(),24===s&&t.players[e].pulkaScores&&t.players[e].pulkaScores[3]&&t.players[e].pulkaScores.length?a("div",{staticClass:"pulkaScore"},[t._v(" "+t._s((t.players[e].pulkaScores[3]/100).toFixed(1))+" ")]):t._e()])}))],2)})),0):t._e()])},Y=[],B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(S["b"])(e,t),Object(S["a"])([Object(k["b"])({type:Array,required:!0})],e.prototype,"players",void 0),Object(S["a"])([Object(k["b"])({type:Array,required:!0})],e.prototype,"numberOfCards",void 0),e=Object(S["a"])([k["a"]],e),e}(k["c"]),q=B,H=q,W=(a("c766"),Object(b["a"])(H,K,Y,!1,null,"f9c5bf92",null)),F=W.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat"},[t.showChat?[a("div",{staticClass:"header"},[a("h3",[t._v("Chat")]),a("a",{on:{click:function(e){return t.hideChat()}}},[t._v("x")])]),a("div",{staticClass:"body"},[a("ul",t._l(t.messages,(function(e,s){return a("li",{key:s},[a("span",{domProps:{innerHTML:t._s(e)}})])})),0)]),a("div",{staticClass:"footer"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"Type..."},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send()},input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("a",{staticClass:"button",on:{click:function(e){return t.send()}}},[t._v("Send")])])]:[a("div",{staticClass:"foldedChat"},[a("div",{staticClass:"header"},[a("h3",[t._v("Chat")]),t.newMessage?a("span",{staticClass:"newMessage"}):t._e(),a("a",{on:{click:function(e){return t.openChat()}}},[t._v("show")])])])]],2)},U=[];(function(t){t["START"]="START",t["CALL"]="CALL",t["SET_KOZYR"]="SET_KOZYR",t["ACTION"]="ACTION",t["REACTION"]="REACTION",t["MESSAGE"]="MESSAGE"})(h||(h={}));var Q,X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.showChat=!1,e.newMessage=!1,e}return Object(S["b"])(e,t),e.prototype.onMessagesChanged=function(t,e){if(e&&t&&e.length!==t.length){this.newMessage=!0;var a=new Audio;a.src="message.mp3",a.play()}},e.prototype.mounted=function(){var t=this;l.$on("app:user:reply",(function(e){e.requestType===h.MESSAGE&&t.handleMessage()}))},e.prototype.handleMessage=function(){this.text="";var t=this.$el.querySelector(".chat .body");t&&(t.scrollTop=t.scrollHeight)},e.prototype.send=function(){var t=this.playerName+" > "+this.text,e={type:h.MESSAGE,playerId:this.playerId,gameId:this.gameId,message:t};this["$ws"].send("/app/playerMessage",JSON.stringify(e))},e.prototype.hideChat=function(){this.showChat=!1,this.newMessage=!1},e.prototype.openChat=function(){this.showChat=!0,this.newMessage=!1},Object(S["a"])([Object(k["b"])()],e.prototype,"messages",void 0),Object(S["a"])([Object(k["b"])()],e.prototype,"gameId",void 0),Object(S["a"])([Object(k["b"])()],e.prototype,"playerId",void 0),Object(S["a"])([Object(k["b"])()],e.prototype,"playerName",void 0),Object(S["a"])([Object(k["d"])("messages")],e.prototype,"onMessagesChanged",null),e=Object(S["a"])([k["a"]],e),e}(k["c"]),V=X,tt=V,et=(a("6cc3"),Object(b["a"])(tt,Z,U,!1,null,"0b60b687",null)),at=et.exports,st={1:{id:1,suite:"bez",type:"JOKER"},2:{id:2,suite:"bez",type:"JOKER"},3:{id:3,suite:"spade",type:"7"},4:{id:4,suite:"spade",type:"8"},5:{id:5,suite:"spade",type:"9"},6:{id:6,suite:"spade",type:"10"},7:{id:7,suite:"spade",type:"J"},8:{id:8,suite:"spade",type:"Q"},9:{id:9,suite:"spade",type:"K"},10:{id:10,suite:"spade",type:"A"},11:{id:11,suite:"club",type:"7"},12:{id:12,suite:"club",type:"8"},13:{id:13,suite:"club",type:"9"},14:{id:14,suite:"club",type:"10"},15:{id:15,suite:"club",type:"J"},16:{id:16,suite:"club",type:"Q"},17:{id:17,suite:"club",type:"K"},18:{id:18,suite:"club",type:"A"},19:{id:19,suite:"diamond",type:"6"},20:{id:20,suite:"diamond",type:"7"},21:{id:21,suite:"diamond",type:"8"},22:{id:22,suite:"diamond",type:"9"},23:{id:23,suite:"diamond",type:"10"},24:{id:24,suite:"diamond",type:"J"},25:{id:25,suite:"diamond",type:"Q"},26:{id:26,suite:"diamond",type:"K"},27:{id:27,suite:"diamond",type:"A"},28:{id:28,suite:"hart",type:"6"},29:{id:29,suite:"hart",type:"7"},30:{id:30,suite:"hart",type:"8"},31:{id:31,suite:"hart",type:"9"},32:{id:32,suite:"hart",type:"10"},33:{id:33,suite:"hart",type:"J"},34:{id:34,suite:"hart",type:"Q"},35:{id:35,suite:"hart",type:"K"},36:{id:36,suite:"hart",type:"A"}},rt=st;(function(t){t["CALLS_MADE"]="CALLS_MADE",t["PLAY_DONE"]="PLAY_DONE",t["PLAY_STARTED"]="PLAY_STARTED",t["DEALT"]="DEALT"})(Q||(Q={}));a("d3b7");var nt=a("bc3a"),it=a.n(nt),ot=function(){function t(){this.axiosInstance=it.a.create({baseURL:"https://joker.sgkperformance.com",timeout:2e3}),this.axiosInstance.interceptors.response.use((function(t){return t}),(function(t){return t.response&&s["a"].alert(t.response.data.message),Promise.reject(t)}))}return t.prototype.get=function(t){return this.axiosInstance.get(t)},t}(),ct=ot;k["c"].component("account",F),k["c"].component("chat",at);var ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentState={},e.apiService=new ct,e.actions=[],e.deck=rt,e.me={},e.players=[],e.opponents=[],e.kozyr="none",e.gameId="",e.showJokerAction=!1,e.showJokerActionSuite=!1,e.jokerAction="",e.joker={},e}return Object(S["b"])(e,t),e.prototype.mounted=function(){var t=this;l.$on("app:user:reply",(function(e){e.requestType!==h.START&&e.requestType!==h.CALL&&e.requestType!==h.SET_KOZYR&&e.requestType!==h.MESSAGE&&e.requestType!==h.REACTION&&e.requestType!==h.ACTION||t.refreshState(e)})),this["$ws"]&&this["$ws"].connected?this.startGame():l.$on("connected",(function(){t.startGame()}))},e.prototype.play=function(t){var e=new Audio;e.src=t,e.play()},e.prototype.hitAction=function(t){1===t.id||2===t.id?(this.showJokerAction=!0,this.joker=t):this.action(t,"")},e.prototype.calculateCardPosition=function(t){var e=-1;this.opponents.forEach((function(a,s){a.position===t["playerPosition"]&&(e=s)}));var a="";return-1===e?a="alignBottom":0===e?a="alignLeft":1===e?a="alignTop":2===e&&(a="alignRight"),a},e.prototype.selectJokerAction=function(t){this.showJokerAction=!1,this.currentState.currentTurnPosition===this.currentState.actingPlayerPosition?(this.showJokerActionSuite=!0,this.jokerAction=t):this.action(this.joker,t)},e.prototype.selectJokerSuite=function(t){var e=this.jokerAction+"_"+t;this.showJokerAction=!1,this.showJokerActionSuite=!1,this.jokerAction="",this.action(this.joker,e),this.joker={}},e.prototype.closeJokerActions=function(){this.showJokerAction=!1,this.showJokerActionSuite=!1,this.jokerAction="",this.joker={}},e.prototype.action=function(t,e){if(this.currentState.currentTurnPosition&&this.currentState.actingPlayerPosition){var a=this.$route.params,s=a.gameId,r=a.id,n={playerId:r,gameId:s,cardId:t.id};this.currentState.currentTurnPosition!==this.currentState.actingPlayerPosition?(n.type=h.REACTION,e&&""!==e&&(n.jokerReaction=e),this["$ws"].send("/app/playerMessage",JSON.stringify(n))):(n.type=h.ACTION,e&&""!==e&&(n.jokerAction=e),this["$ws"].send("/app/playerMessage",JSON.stringify(n)))}},e.prototype.actionHandler=function(t){this.play("placeCard.mp3"),this.currentState=t.state,this.currentState&&this.currentState.currentPlay&&this.currentState.currentPlay.actions&&(this.actions=this.currentState.currentPlay.actions),this.me=t.player,this.kozyr=t.state.currentPlay.kozyr},e.prototype.call=function(t){if(this.currentState.currentTurnPosition){var e=this.$route.params,a=e.gameId,s=e.id,r={type:h.CALL,playerId:s,gameId:a,wantQty:t};this["$ws"].send("/app/playerMessage",JSON.stringify(r))}},e.prototype.setKozyr=function(t){var e=this.$route.params,a=e.gameId,s=e.id,r={type:h.SET_KOZYR,playerId:s,gameId:a,kozyrSuite:t};this["$ws"].send("/app/playerMessage",JSON.stringify(r))},e.prototype.startGame=function(){var t=this.$route.params,e=t.gameId,a=t.id;this.gameId=e;var s={type:h.START,playerId:a,gameId:e};this["$ws"].send("/app/playerMessage",JSON.stringify(s))},e.prototype.refreshState=function(t){var e=this;this.currentState=t.state,this.currentState&&this.currentState.currentPlay&&this.currentState.currentPlay.actions&&(this.actions=this.currentState.currentPlay.actions),this.me=t.player,k["c"].set(this.players,t.player.position,t.player),this.opponents=t.opponents,t.opponents.forEach((function(t){t.position&&k["c"].set(e.players,t.position,t)})),this.kozyr=t.state.currentPlay.kozyr,this.beepIfMyTurn(t),this.beepIfMyCall(t)},e.prototype.isDisabled=function(t){if(this.currentState.status===Q.DEALT||this.currentState.currentTurnPosition!==this.me.position)return!0;if(this.currentState.currentPlay&&this.currentState.status===Q.PLAY_STARTED&&this.currentState.currentTurnPosition===this.me.position){if("BEZ"===t.suite)return!1;if(this.me.cards&&1===this.me.cards.length)return!1;var e=this.currentState.currentPlay.kozyr.suite||"";if(this.currentState.currentPlay&&this.currentState.currentPlay.jokerActionWant){var a=this.findHighiestSuite();if(a.id&&t.id&&-1!==a.id&&a.id!==t.id)return!0;if(!this.hasSuite(e))return!1;if(-1===a.id&&t.suite!==this.currentState.currentPlay.kozyr.suite)return!0}if(this.currentState.currentPlay&&this.currentState.currentPlay.actingSuite){var s=this.currentState.currentPlay.actingSuite;if(!this.hasSuite(s)&&!this.hasSuite(e))return!1;if(this.hasSuite(s)&&t.suite!==this.currentState.currentPlay.actingSuite)return!0;if(!this.hasSuite(s)&&this.hasSuite(e)&&this.currentState.currentPlay&&this.currentState.currentPlay.kozyr&&t.suite!==this.currentState.currentPlay.kozyr.suite)return!0}}return!1},e.prototype.hasSuite=function(t){var e=!1;if(this.currentState.currentPlay){var a=this.me.cards;a&&a.length&&a.forEach((function(a){"BEZ"!==a.suite&&a.suite===t&&(e=!0)}))}return e},e.prototype.findHighiestSuite=function(){var t={id:-1};if(this.currentState.currentPlay){var e=this.currentState.currentPlay.actingSuite,a=this.me.cards;a&&a.length&&a.forEach((function(a){a.id&&t.id&&a.suite===e&&a.id>t.id&&(t=a)}))}return t},e.prototype.beepIfMyTurn=function(t){t.state!==Q.CALLS_MADE&&t.state.status!==Q.PLAY_DONE&&t.state.status!==Q.PLAY_STARTED||t.state.currentTurnPosition!==t.player.position||this.play("beepYourTurn.mp3")},e.prototype.beepIfMyCall=function(t){t.state.status===Q.DEALT&&t.state.currentTurnPosition===t.player.position&&null!=t.state.currentPlay.kozyr&&this.play("beepYourTurn.mp3")},e=Object(S["a"])([Object(k["a"])({components:{AccountComponent:F,ChatComponent:at}})],e),e}(k["c"]),lt=ut,pt=lt,dt=(a("b4e2"),Object(b["a"])(pt,D,G,!1,null,null,null)),yt=dt.exports;s["a"].use(T["a"]);var ht=[{path:"/",name:"Home",component:R},{path:"/game/:id/:gameId",name:"Game",component:yt}],mt=new T["a"]({routes:ht}),ft=mt,vt=a("2f62");s["a"].use(vt["a"]);var St=new vt["a"].Store({state:{},mutations:{},actions:{},modules:{}});s["a"].use(r["a"]),s["a"].prototype.$ws=m,s["a"].config.productionTip=!1,new s["a"]({router:ft,store:St,render:function(t){return t(P)}}).$mount("#app")},fa19:function(t,e,a){t.exports=a.p+"img/person.acf7b3be.png"}});
//# sourceMappingURL=app.8ecc408c.js.map